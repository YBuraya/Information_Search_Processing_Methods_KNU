# Лабораторна робота №5.

В цій лабораторній роботі необхідно зчитати WEB сторінку з сайту IMDB.com зі 100 фільмами 2019 року виходу за посиланням «http://www.imdb.com/search/title?count=100&release_date=2019,2019&title_type=feature». 
Необхідно створити data.frame «movies» з наступними даними: номер фільму (rank_data), назва фільму (title_data), тривалість (runtime_data). Для виконання лабораторної рекомендується використати бібліотеку «rvest». CSS селектори для зчитування необхідних даних: rank_data: «.text-primary», title_data: «.lister-item-header a», runtime_data: «.text-muted .runtime». Для зчитування url використовується функція read_html, для зчитування даних по CSS селектору – html_nodes і для перетворення зчитаних html даних в текст - html_text. Рекомендується перетворити rank_data та runtime_data з тексту в числові значення. При формуванні дата фрейму функцією data.frame рекомендується використати параметр «stringsAsFactors = FALSE».
```r
library(xml2)
library(rvest)
html_page <- read_html("https://www.imdb.com/search/title/?count=100&release_date=2019,2019&title_type=feature")
rank_data <- html_text(html_nodes(html,'.text-primary'))
rank_data <- as.numeric(rank_data)
title_data <- html_text(html_nodes(html,'.lister-item-header a'))
runtime_data <- html_text(html_nodes(html,'.text-muted .runtime'))
runtime_data = as.numeric(gsub(" min", "", runtime_data))
movies <- data.frame(rank = rank_data, title = title_data, runtime = runtime_data, stringsAsFactors = FALSE)
```

**1. Виведіть перші 6 назв фільмів дата фрейму.**
```r
head(movies, 6)$title
```
```
[1] "Ножі наголо"               
[2] "Джокер"                    
[3] "Паразити"                  
[4] "Месники: Завершення"       
[5] "Одного разу... в Голлівуді"
[6] "Кролик Джоджо"
```

**2. Виведіть всі назви фільмів с тривалістю більше 120 хв.**
```r
subset(movies, runtime > 120)$title
```
```
 [1] "Ножі наголо"                                  
 [2] "Джокер"                                       
 [3] "Паразити"                                     
 [4] "Месники: Завершення"                          
 [5] "Одного разу... в Голлівуді"                   
 [6] "Доктор Сон"                                   
 [7] "Аутсайдери"                                   
 [8] "Сонцестояння"                                 
 [9] "Маленькі жінки"                               
[10] "Джуманджі: Наступний рівень"                  
[11] "Неограновані коштовності"                     
[12] "Зоряні війни: Епізод 9 - Скайвокер. Сходження"
[13] "Аладдін"                                      
[14] "Король"                                       
[15] "Ірландець"                                    
[16] "Мідвей"                                       
[17] "Воно 2"                                       
[18] "Річард Джуелл"                                
[19] "Капітан Марвел"                               
[20] "Людина-павук: Далеко від дому"                
[21] "Аліта: Бойовий ангел"                         
[22] "Портрет дівчини у вогні"                      
[23] "Пофарбоване пташеня"                          
[24] "Термінатор: Фатум"                            
[25] "До зірок"                                     
[26] "Рокетмен"                                     
[27] "6 футів під землею"                           
[28] "Джон Вік 3"                                   
[29] "Форсаж: Гоббс та Шоу"                         
[30] "Шазам!"                                       
[31] "Сирота Бруклін"                               
[32] "Темні води"                                   
[33] "Шлюбна історія"                               
[34] "Квін та Слім"                                 
[35] "Приховане життя"                              
[36] "El Camino: A Breaking Bad Movie"              
[37] "Абатство Даунтон"                             
[38] "Ґодзілла II: Король Монстрів"                 
[39] "Падіння янгола"                               
[40] "Щиголь" 
```

**3. Скільки фільмів мають тривалість менше 100 хв.**
```r
nrow(movies[movies$runtime < 100, ])
```
```
[1] 22
```